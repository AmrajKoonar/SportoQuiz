# .github/workflows/deploy.yml
name: Deploy to Vercel

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: 20

      - name: Install & Build
        run: |
          cd sportoquiz
          npm ci
          npm run build

      - name: Deploy to Vercel
        uses: BetaHuhn/deploy-to-vercel-action@v1
        working-directory: sportoquiz
        with:
          # GitHub token for posting status/comments (you can use the builtâ€‘in GITHUB_TOKEN)
          GITHUB_TOKEN:     ${{ secrets.GITHUB_TOKEN }}
          # Your Vercel Service token
          VERCEL_TOKEN:     ${{ secrets.VERCEL_TOKEN }}
          VERCEL_ORG_ID:    ${{ secrets.VERCEL_ORG_ID }}
          VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
